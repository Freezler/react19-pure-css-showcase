/* ✨ Modern Animation System - 2025 Edition */
@layer animations;

@layer animations {
  /* 🎭 CSS Custom Properties for Animations */
  :root {
    --rotate-angle: 0deg;
    --scale-factor: 1;
    --gradient-position: 0%;
    --shimmer-position: -100%;
  }
  
  /* 🌊 Advanced Keyframe Animations */
  
  /* Floating animation with visible movement */
  @keyframes float-organic {
    0% { 
      transform: translate3d(0, 0, 0) rotate(0deg) scale(1);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
    }
    25% { 
      transform: translate3d(20px, -25px, 0) rotate(5deg) scale(1.03);
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
    }
    50% { 
      transform: translate3d(-10px, -35px, 0) rotate(-3deg) scale(1.01);
      box-shadow: 0 20px 35px rgba(0, 0, 0, 0.2);
    }
    75% { 
      transform: translate3d(-15px, -15px, 0) rotate(4deg) scale(1.05);
      box-shadow: 0 12px 25px rgba(0, 0, 0, 0.12);
    }
    100% { 
      transform: translate3d(0, 0, 0) rotate(0deg) scale(1);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
    }
  }
  
  /* Morphing blob animation */
  @keyframes morph-blob {
    0%, 100% {
      border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
    }
    25% {
      border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%;
    }
    50% {
      border-radius: 50% 60% 30% 60% / 30% 60% 70% 40%;
    }
    75% {
      border-radius: 60% 40% 60% 30% / 70% 40% 50% 60%;
    }
  }
  
  /* Shimmer loading effect */
  @keyframes shimmer {
    0% { --shimmer-position: -100%; }
    100% { --shimmer-position: 100%; }
  }
  
  /* Gradient animation */
  @keyframes gradient-shift {
    0% { --gradient-position: 0%; }
    100% { --gradient-position: 100%; }
  }
  
  /* Pulse with scale and glow */
  @keyframes pulse-glow {
    0%, 100% {
      transform: scale(1);
      box-shadow: 0 0 0 0 oklch(from var(--color-primary) l c h / 0.7);
    }
    50% {
      transform: scale(1.05);
      box-shadow: 0 0 0 20px oklch(from var(--color-primary) l c h / 0);
    }
  }
  
  /* Typewriter effect */
  @keyframes typewriter {
    0% { width: 0; }
    100% { width: 100%; }
  }
  
  @keyframes blink-cursor {
    0%, 50% { border-right-color: transparent; }
    51%, 100% { border-right-color: currentColor; }
  }
  
  /* Magnetic hover effect */
  @keyframes magnetic-pull {
    0% { transform: translate(0, 0) scale(1); }
    50% { transform: translate(var(--mouse-x, 0), var(--mouse-y, 0)) scale(1.1); }
    100% { transform: translate(0, 0) scale(1); }
  }
  
  /* Parallax scroll animation */
  @keyframes parallax-bg {
    0% { transform: translateY(0); }
    100% { transform: translateY(-50px); }
  }
  
  /* Reveal animation with clip-path */
  @keyframes reveal-clip {
    0% { clip-path: inset(0 100% 0 0); }
    100% { clip-path: inset(0 0 0 0); }
  }
  
  /* Bounce with bezier easing */
  @keyframes bounce-elastic {
    0% { transform: translateY(0) scaleY(1); }
    15% { transform: translateY(-20px) scaleY(1.1); }
    30% { transform: translateY(0) scaleY(0.9); }
    45% { transform: translateY(-10px) scaleY(1.05); }
    60% { transform: translateY(0) scaleY(0.95); }
    75% { transform: translateY(-5px) scaleY(1.02); }
    90% { transform: translateY(0) scaleY(0.98); }
    100% { transform: translateY(0) scaleY(1); }
  }
  
  /* 🎪 Animation Classes */
  
  /* Organic floating animation */
  .animate-float {
    animation: float-organic 6s ease-in-out infinite;
  }
  
  .animate-float--delayed {
    animation: float-organic 6s ease-in-out infinite;
    animation-delay: -2s;
  }
  
  .animate-float--slow {
    animation: float-organic 10s ease-in-out infinite;
  }
  
  /* Morphing blob */
  .animate-morph {
    animation: morph-blob 8s ease-in-out infinite;
  }
  
  /* Shimmer loading */
  .animate-shimmer {
    position: relative;
    overflow: hidden;
    
    &::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(90deg,
        transparent 0%,
        oklch(from var(--color-surface) calc(l + 0.1) c h) 50%,
        transparent 100%);
      transform: translateX(var(--shimmer-position));
      animation: shimmer 2s ease-in-out infinite;
    }
  }
  
  /* Gradient animation */
  .animate-gradient {
    background: linear-gradient(270deg,
      var(--color-primary) 0%,
      var(--color-secondary) 50%,
      var(--color-accent) 100%);
    background-size: 200% 200%;
    background-position: var(--gradient-position) 50%;
    animation: gradient-shift 3s ease-in-out infinite alternate;
  }
  
  /* Pulse with glow */
  .animate-pulse-glow {
    animation: pulse-glow 2s ease-in-out infinite;
  }
  
  /* Typewriter effect */
  .animate-typewriter {
    overflow: hidden;
    white-space: nowrap;
    border-right: 2px solid currentColor;
    animation: 
      typewriter 3s steps(40, end),
      blink-cursor 0.75s step-end infinite;
  }
  
  /* Magnetic effect */
  .animate-magnetic {
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    
    &:hover {
      animation: magnetic-pull 0.6s ease-out;
    }
  }
  
  /* Reveal animation */
  .animate-reveal {
    animation: reveal-clip 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  }
  
  /* Elastic bounce */
  .animate-bounce-elastic {
    animation: bounce-elastic 1s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  }
  
  /* 🎯 Simple Scroll Animations That Actually Work */
  
  /* Fade in from bottom - works immediately on page load */
  .scroll-reveal {
    opacity: 0;
    transform: translateY(40px);
    animation: fade-in-up 1s ease-out 0.5s forwards;
  }
  
  @keyframes fade-in-up {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  /* Slide in from left */
  .scroll-slide-in-left {
    opacity: 0;
    transform: translateX(-50px);
    animation: slide-in-left 1s ease-out 0.7s forwards;
  }
  
  @keyframes slide-in-left {
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }
  
  /* Slide in from right */
  .scroll-slide-in-right {
    opacity: 0;
    transform: translateX(50px);
    animation: slide-in-right 1s ease-out 0.9s forwards;
  }
  
  @keyframes slide-in-right {
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }
  
  /* Scale up entrance */
  .scroll-scale-in {
    opacity: 0;
    transform: scale(0.8);
    animation: scale-in 1s ease-out 1.1s forwards;
  }
  
  @keyframes scale-in {
    to {
      opacity: 1;
      transform: scale(1);
    }
  }
  
  /* Staggered reveals for lists */
  .scroll-stagger > *:nth-child(1) { animation-delay: 0ms; }
  .scroll-stagger > *:nth-child(2) { animation-delay: 100ms; }
  .scroll-stagger > *:nth-child(3) { animation-delay: 200ms; }
  .scroll-stagger > *:nth-child(4) { animation-delay: 300ms; }
  .scroll-stagger > *:nth-child(5) { animation-delay: 400ms; }
  .scroll-stagger > *:nth-child(6) { animation-delay: 500ms; }
  
  @keyframes scroll-bounce-reveal {
    0% {
      opacity: 0;
      transform: translateY(100px) scale(0.8) rotate(-10deg);
    }
    60% {
      opacity: 1;
      transform: translateY(-20px) scale(1.1) rotate(2deg);
    }
    100% {
      opacity: 1;
      transform: translateY(0) scale(1) rotate(0deg);
    }
  }
  
  /* Wobbly elastic entrance */
  .scroll-elastic-in {
    opacity: 0;
    transform: scale(0) rotate(180deg);
    animation: scroll-elastic-in linear both;
    animation-timeline: view();
    animation-range: entry 0% entry 70%;
  }
  
  @keyframes scroll-elastic-in {
    0% {
      opacity: 0;
      transform: scale(0) rotate(180deg);
    }
    50% {
      opacity: 1;
      transform: scale(1.3) rotate(20deg);
    }
    70% {
      transform: scale(0.9) rotate(-5deg);
    }
    85% {
      transform: scale(1.05) rotate(2deg);
    }
    100% {
      transform: scale(1) rotate(0deg);
    }
  }
  
  /* Spinning flip entrance */
  .scroll-flip-in {
    opacity: 0;
    transform: perspective(1000px) rotateY(-90deg) translateZ(-100px);
    animation: scroll-flip-in linear both;
    animation-timeline: view();
    animation-range: entry 0% entry 60%;
  }
  
  @keyframes scroll-flip-in {
    0% {
      opacity: 0;
      transform: perspective(1000px) rotateY(-90deg) translateZ(-100px);
    }
    50% {
      opacity: 1;
      transform: perspective(1000px) rotateY(10deg) translateZ(20px);
    }
    100% {
      opacity: 1;
      transform: perspective(1000px) rotateY(0deg) translateZ(0px);
    }
  }
  
  /* Staggered text reveal */
  .scroll-text-reveal {
    opacity: 0;
    transform: translateY(50px);
    animation: scroll-text-reveal linear both;
    animation-timeline: view();
    animation-range: entry 0% entry 40%;
  }
  
  @keyframes scroll-text-reveal {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  /* Parallax with rotation */
  .scroll-parallax-rotate {
    animation: scroll-parallax-rotate linear both;
    animation-timeline: scroll(root);
  }
  
  @keyframes scroll-parallax-rotate {
    from {
      transform: translateY(0) rotate(0deg);
    }
    to {
      transform: translateY(-30vh) rotate(360deg);
    }
  }
  
  /* Scale and fade based on scroll */
  .scroll-scale-fade {
    animation: scroll-scale-fade linear both;
    animation-timeline: view();
    animation-range: entry 0% exit 100%;
  }
  
  @keyframes scroll-scale-fade {
    0% {
      opacity: 0;
      transform: scale(0.5);
    }
    50% {
      opacity: 1;
      transform: scale(1);
    }
    100% {
      opacity: 0.3;
      transform: scale(1.2);
    }
  }
  
  /* Magnetic pull effect */
  .scroll-magnetic {
    animation: scroll-magnetic linear both;
    animation-timeline: view();
    animation-range: entry -50% exit 50%;
  }
  
  @keyframes scroll-magnetic {
    0% {
      transform: translateX(-200px) rotate(-45deg) scale(0.5);
      filter: blur(10px);
    }
    50% {
      transform: translateX(0) rotate(0deg) scale(1);
      filter: blur(0px);
    }
    100% {
      transform: translateX(200px) rotate(45deg) scale(0.5);
      filter: blur(10px);
    }
  }
  
  /* 🌈 Color Animations */
  .animate-rainbow {
    background: linear-gradient(45deg,
      hsl(0, 70%, 60%),
      hsl(60, 70%, 60%),
      hsl(120, 70%, 60%),
      hsl(180, 70%, 60%),
      hsl(240, 70%, 60%),
      hsl(300, 70%, 60%),
      hsl(360, 70%, 60%));
    background-size: 300% 300%;
    animation: rainbow-shift 3s ease-in-out infinite;
  }
  
  @keyframes rainbow-shift {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }
  
  /* 🎭 Interaction Animations */
  .hover-lift {
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    
    &:hover {
      transform: translateY(-4px);
    }
  }
  
  .hover-tilt {
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    transform-style: preserve-3d;
    
    &:hover {
      transform: rotate(1deg);
    }
  }
  
  .hover-glow {
    transition: box-shadow 0.2s ease, transform 0.2s ease;
    
    &:hover {
      box-shadow: 0 4px 20px oklch(from var(--color-primary) l c h / 0.2);
      transform: translateY(-2px);
    }
  }
  
  /* 🎪 Stagger Animations */
  .stagger-fade-in > * {
    opacity: 0;
    transform: translateY(1rem);
    animation: fade-in-up 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  }
  
  .stagger-fade-in > *:nth-child(1) { animation-delay: 0.1s; }
  .stagger-fade-in > *:nth-child(2) { animation-delay: 0.2s; }
  .stagger-fade-in > *:nth-child(3) { animation-delay: 0.3s; }
  .stagger-fade-in > *:nth-child(4) { animation-delay: 0.4s; }
  .stagger-fade-in > *:nth-child(5) { animation-delay: 0.5s; }
  .stagger-fade-in > *:nth-child(6) { animation-delay: 0.6s; }
  
  @keyframes fade-in-up {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  /* 🌟 Special Effects */
  .animate-sparkle {
    position: relative;
    
    &::before {
      content: '✨';
      position: absolute;
      top: -10px;
      right: -10px;
      opacity: 0;
      animation: sparkle 2s ease-in-out infinite;
    }
  }
  
  @keyframes sparkle {
    0%, 100% { 
      opacity: 0; 
      transform: scale(0) rotate(0deg);
    }
    50% { 
      opacity: 1; 
      transform: scale(1) rotate(180deg);
    }
  }
  
  /* 🎯 Performance Optimizations */
  .animate-gpu {
    transform: translateZ(0);
    will-change: transform;
  }
  
  .animate-will-change-auto {
    will-change: auto;
  }
  
  /* 🎭 Reduced Motion Support */
  @media (prefers-reduced-motion: reduce) {
    .animate-float,
    .animate-morph,
    .animate-shimmer,
    .animate-gradient,
    .animate-pulse-glow,
    .animate-magnetic,
    .animate-bounce-elastic,
    .animate-rainbow,
    .animate-sparkle {
      animation: none !important;
    }
    
    .scroll-reveal,
    .scroll-slide-in-left,
    .scroll-slide-in-right,
    .scroll-scale-in,
    .scroll-bounce-reveal,
    .scroll-elastic-in,
    .scroll-flip-in,
    .scroll-text-reveal,
    .scroll-parallax-rotate,
    .scroll-scale-fade,
    .scroll-magnetic {
      animation: none !important;
      opacity: 1 !important;
      transform: none !important;
    }
    
    .hover-lift:hover,
    .hover-tilt:hover {
      transform: none !important;
    }
    
    .stagger-fade-in > * {
      opacity: 1 !important;
      transform: none !important;
      animation: none !important;
    }
  }
  
  /* 🌙 Dark Mode Adaptations */
  [data-theme="dark"] {
    .animate-shimmer::before {
      background: linear-gradient(90deg,
        transparent 0%,
        oklch(from var(--color-surface) calc(l + 0.05) c h) 50%,
        transparent 100%);
    }
    
    .hover-glow::before {
      filter: blur(15px);
      opacity: 0.5;
    }
  }
  
  /* 🖨️ Print Styles */
  @media print {
    * {
      animation: none !important;
      transition: none !important;
    }
    
    .animate-shimmer::before,
    .hover-glow::before,
    .animate-sparkle::before {
      display: none !important;
    }
  }
}